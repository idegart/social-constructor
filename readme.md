# Bot Constructor

Это сервис для создания чат-ботов, которые подойдут для любых социальных сетей.
Любое действие - это блок, которые может намного больше, чем Вы только можете себе представить!!!!

## Окей, как это работает?
Самое основное что необходимо понять - каждая соц.сеть уникальна.
Но при этом у каждой из них есть одинаковые сущности - сам канал, пользователь, сообщение.
Для этого сущестуют такие интерфейсы как `BaseChannel`, `BaseClient`, `BaseMessage`.

Все они объединяются в ботовские группы `Social*`.
То есть, все каналы находятся под властью `SocialChannel`, все пользователи под властью `SocialClient`, сообщения под `SocialMessage`

Так же, у каждой соц. сети должен быть свой собственный сервис, который наследуется от `BaseSocialService`

## Хорошо, давай уже к делу
Вся основная работа ложится на `PlayService`.
В этом сервисе происходит и прием сообщения, и его отправка, и переход от блока к блоку, и многое-многое другое...

Когда сервис получает сообщение, то оно в большенстве случаев пройдет через `handleNewMessageCallback`.
Тут мы определям, находится ли человек на каком то блоке или мы только начинаем вести с ним заводную беседу.

## Что за блоки такие?!
Отличный вопрос!
Блоки - это своего рода микросервисы (в моем понимании). Наследуются от `BaseBlock`.
Каждый блок имеет входую точку `playBlock` (когда мы только начинаем играть по правилам этого блока) и еще один дополнительный `playContinue` (когда нам потребовались какие то доп. ответы от пользователя)

Так вот, каждый блок принимает в себя сообщение через этот самый `playBlock`, в котором через параметр передается `PlayService`.
Таким образом у каждого блока есть доступ к сообщению, пользователю, соц.сети, и самое главное - сервису соц.сети. Т.е. сможет спокойно отправлять сообщения и дальше с ними работать.

## Откуда тут так много таблиц? Ты уверен что они ВСЕ нужны???!?
Да! И их не так много как кажется на первый взгляд.

Их так много из-за разнообразия этих самых социальных сетей, ведь при добовлении каждой из них, нам нужно добавить аж по 3 дополнительные таблицы.
Так же, каждый блок должен иметь свою таблицу. Если даже блок не выполняет никакой "сложной логики" мы все равно должны добавить таблицы блока для morph связи.

## Мне кажется у тебя так себе код!!1!!!
Рад что Вы это заметили! Давайте исправлять его вместе :)
